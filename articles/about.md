---
      category: Article
      title: Rax-map ç®€ä»‹
      order: 1
    ---
<img src="https://img.alicdn.com/tfs/TB1hKleuiQnBKNjSZFmXXcApVXa-700-700.png" width="120" height="120" />

# Rax-map


> Rax-map åŸºäº rax ä¸é«˜å¾·åœ°å›¾ï¼Œå¿«é€Ÿå¼€å‘æ— çº¿åœ°å›¾ç±»ä¸šåŠ¡éœ€æ±‚
- å¸®åŠ©ä½ è½»æ¾çš„æ¥å…¥åœ°å›¾åˆ° Rax é¡¹ç›®ä¸­;
- ç›®å‰æå¸¸ç”¨åœ°å›¾ç»„ä»¶ï¼Œèƒ½æ»¡è¶³å¤§éƒ¨åˆ†ç®€å•çš„ä¸šåŠ¡åœºæ™¯;
- åŒæ—¶ä¹Ÿæä¾›äº†ç»„ä»¶çš„æ‰©å±•èƒ½åŠ›,è‡ªå®šä¹‰ç»„ä»¶;
- å¦‚æœä½ æœ‰æ›´å¤æ‚çš„éœ€æ±‚ï¼Œæˆ–è€…è§‰å¾—é»˜è®¤æä¾›çš„ç»„ä»¶åŠŸèƒ½ä¸å¤Ÿ,å¯ä»¥å‚è€ƒ[é«˜å¾·](https://lbs.amap.com/api/javascript-api/summary)apié…ç½®,æä¾›æ›´ä¸°å¯Œçš„å¼€å‘èƒ½åŠ›;

> â˜† ç›®å‰çš„ `Rax-map` æ˜¯åŸºäºç§»åŠ¨ç«¯ webView çš„h5æ–¹å¼ã€‚åœ¨å‘å¸ƒ `rax` é¡¹ç›®å, é¡¹ç›®é»˜è®¤ `wh_weex=false`;

### çº¿ä¸ŠAPIåœ°å€(åŒ…å«demoæ¼”ç¤º)

- [åœ°å€](https://alibaba.github.io/rax-map/api/components/index)

### é¡¹ç›®å®è·µ(é˜¿é‡Œæ‹å–-åœ°å›¾æ‰¾æˆ¿)

> å»ºè®®åœ¨chromeçš„ç§»åŠ¨ç«¯æ¨¡æ‹Ÿæ¨¡å¼ä¸‹æŸ¥çœ‹

- [åœ°å€](https://market.m.taobao.com/app/pmMap/pages/index?wh_weex=false&spm=a2129.1122572.search.2)

### èƒŒæ™¯
`Rax` æ˜¯ä»€ä¹ˆ?
- `Rax` æ˜¯ä¸€ä¸ªå…¨æ–°çš„æ€è·¯ã€‚å®ƒæ˜¯ä¸€ä¸ªé€šç”¨çš„è·¨å®¹å™¨çš„æ¸²æŸ“å¼•æ“ï¼Œ å¦‚æœä½ ä½¿ç”¨è¿‡ `React` ï¼Œ é‚£ä¹ˆä½ å°±å·²ç»çŸ¥é“äº†è¯¥å¦‚ä½•ä½¿ç”¨ `Rax` ï¼Œ å› ä¸ºå®ƒä»¬çš„ API æ˜¯å®Œå…¨å…¼å®¹çš„ã€‚`Rax` çš„è¯ç”Ÿï¼Œä¸»è¦è¿˜æ˜¯ä¸ºé˜¿é‡Œå·´å·´å¹¿æ³›çš„ä¸šåŠ¡æ¥æœåŠ¡çš„ã€‚ç°åœ¨ï¼Œæˆ‘ä»¬è®©å®ƒèµ°å‘å¼€æºï¼ŒæœåŠ¡æ›´å¤šçš„å¼€å‘è€…ã€‚
- [Rax é¡¹ç›®åœ°å€](http://rax.alibaba-inc.com/)

`Rax-map` çš„ç”±æ¥?
- ç”±äº `Rax` æˆªæ­¢ `Rax-map` å¼€å‘ä¹‹å‰,è¿˜æ²¡æœ‰è§„èŒƒçš„åœ°å›¾ç»„ä»¶,å¤§å¤šæ˜¯è°ƒç”¨ç”¨`é«˜å¾·åœ°å›¾js ç‰ˆæœ¬`,`é«˜å¾·åœ°å›¾js ç‰ˆæœ¬`åŸºäºé€‰æ‹©å™¨çš„å¼€å‘æ–¹å¼,å¹¶ä¸èƒ½æ— ç¼æ¥å…¥ `React` MVVM+jsxé£æ ¼çš„å¼€å‘æ–¹å¼ã€‚

- `Rax-map` çš„å‡ºç°åŸºäºä¸¤ä¸ªç›®çš„:

 + å¯ä»¥æ–¹ä¾¿çš„åœ¨æˆ‘ä»¬çš„ `Rax` åº”ç”¨ä¸­æ¥å…¥é«˜å¾·åœ°å›¾,ç”¨;
 + ç”¨æˆ·æ— éœ€å…³æ³¨åœ°å›¾ API å’Œåœ°å›¾æ’ä»¶çš„åŠ è½½è¿‡ç¨‹ï¼Œåœ¨ç®€å•çš„ä½¿ç”¨åœºæ™¯ä¸‹ï¼Œç”¨æˆ·ç”šè‡³ä¸éœ€è¦æ¥è§¦é«˜å¾·å®ä¾‹;
 
---

## å¦‚ä½•ä½¿ç”¨`Rax-map`

### ä½¿ç”¨
ä¸‹é¢æ˜¯ä»£ç ï¼Œå¦‚ä½•åˆ›å»ºä¸€ä¸ªåŸºç¡€ `map` å’Œä¸€ä¸ªå¯ç®¡ç†å¾— `marker` é›†åˆï¼Œæ˜¯ä¸æ˜¯å¾ˆ `Rax`ã€‚

```js
<Map plugins={['ToolBar', 'Scale']}
  style={style}
  events={this.mapEvents}
  center={this.mapDefaultProps.center}
  zooms={[8, 19]}// åœ°å›¾æ˜¾ç¤ºçš„ç¼©æ”¾çº§åˆ«èŒƒå›´,åœ¨ç§»åŠ¨è®¾å¤‡ä¸Šï¼Œé»˜è®¤ä¸º[3,19],å–å€¼èŒƒå›´[3-19]
  <Markers
         markers={this.state.markers}
         useCluster={this.state.useCluster}
         render={this.projMarkers.render}
         events={this.projMarkers.events}
         keepLive={true} />
 </Map>
```

å¦‚æœè¦åˆ›å»ºä¸€ä¸ªæ™®é€šçš„mapåº”ç”¨ï¼Œå¼€å‘è€…ä¸ç”¨æŸ¥è¯¢é«˜å¾·çš„api,ä¹Ÿä¸ç”¨å…³å¿ƒåŒ…æ‹¬mapçš„ç®¡ç†ï¼Œmarkerçš„ç®¡ç†ï¼Œäº‹ä»¶çš„ç®¡ç†ç­‰ç­‰ç¹ççš„äº‹æƒ…ã€‚
æ¯”å¦‚ï¼šå¦‚æœè¦å¢ï¼Œåˆ ï¼Œæ”¹, æŸ¥markeré›†åˆï¼Œåªéœ€è¦å¦‚ä¸‹æ“ä½œï¼Œåªç”¨ç»™this.state.markersèµ‹å€¼ä¸€ä¸ªæ–°çš„æ•°ç»„.

```js
this.setState({markers: [...newMarkers]}, cb);
```


### å®‰è£…
```sh
npm install --save rax-map
```

### åŸºæœ¬ç”¨æ³•

ä»¥ä¸‹ç¤ºä¾‹å±•ç¤ºå†…å®¹è¯´æ˜:
+ 1.åˆ›å»ºä¸€ä¸ªåŸºæœ¬åœ°å›¾[æ¼”ç¤ºåœ°å€](https://alibaba.github.io/rax-map/api/components/map/basic);
+ 2.é€šè¿‡æ§åˆ¶å³è¾¹æŒ‰é’®,æ¥æ”¹å˜mapçš„å®¹å™¨å°ºå¯¸ã€æ”¹å˜mapçš„ä¸­å¿ƒç‚¹ã€æ”¹å˜mapçš„çº§åˆ«;
+ 3.å…¶ä¸­çš„ Touchable æ˜¯ rax ç›¸å…³çš„ç»„ä»¶,rax ç›¸å…³ç”¨æ³•å‚è§ [rax å¼€å‘æ–‡æ¡£](http://rax.alibaba-inc.com/guide);
+ 4.åœ¨ä¸‹é¢çš„ä¾‹å­ä¸­éœ€è¦ç»™ Map ç»„ä»¶ä¼ å…¥ `amapkey` å±æ€§ï¼Œä½ å¯ä»¥åœ¨[é«˜å¾·å¼€æ”¾å¹³å°](http://lbs.amap.com/faq/account/key/67)ç”³è¯·ä½ è‡ªå·±çš„Key;

```jsx
 import {createElement,PureComponent, render} from 'rax';
 import {Map} from 'rax-map';
 import View from 'rax-view';
 import Touchable from 'rax-touchable'; //  å¯¼å…¥touch å®¹å™¨

 const amapkey = '...';// è¿™ä¸ªæ˜¯é«˜å¾·åœ°å›¾ç»™å¼€å‘è€…åˆ†é…çš„å¼€å‘è€… Key

 class App extends PureComponent{

   // åˆå§‹åŒ–å‚æ•°
   constructor(){
       super();
       this.state = {
         mapWidth:'100%',
         mapHeight:'100%',
         center:{longitude: 115,latitude: 30},
         zoom:8
       };
     }

   // æ”¹å˜mapçš„å®¹å™¨å°ºå¯¸
   changeMapSize(){
        this.setState({
         mapWidth:150-(Math.random()*50),
         mapHeight:250-(Math.random()*50),
       })
   }

   // æ”¹å˜mapçš„ä¸­å¿ƒç‚¹
   changeCenter(){
       this.setState({
         center: {
           longitude: 115 + Math.random() * 10,
           latitude: 30 + Math.random() * 10,
         }
       });
     }

   // æ”¹å˜mapçš„çº§åˆ«
      changeZoom(){
          this.setState({
            zoom: (new Array(20).fill(true).map((i,index)=>index))[parseInt(Math.random()*20)]
          });
        }

   render(){
     const { mapWidth, mapHeight, center,zoom} = this.state;
     return (
     <View style={{width: '100%', height: '100%'}}>
         <View style={{width: mapWidth, height: mapHeight}}>
           <Map amapkey={amapkey}
           center = {center}
           zoom = {zoom}
           resizeEnable = {true}
           />
         </View>
         <View style={rowStyle}>
            <Touchable style={touchStyle} onPress={this.changeMapSize.bind(this)}>
                 ç‚¹æˆ‘ : æ”¹å˜mapçš„å®¹å™¨å°ºå¯¸
            </Touchable>
             <Touchable style={touchStyle} onPress={this.changeCenter.bind(this)}>
                 ç‚¹æˆ‘ : æ”¹å˜mapçš„ä¸­å¿ƒç‚¹
             </Touchable>
             <Touchable style={touchStyle} onPress={this.changeZoom.bind(this)}>
                 ç‚¹æˆ‘ : æ”¹å˜mapçš„çº§åˆ«
             </Touchable>
         </View>
     </View>
     )
   }
 }

 // touchå®¹å™¨æ ·å¼
 const touchStyle = {
      borderStyle: 'solid',
      borderColor: '#dddddd',
      borderWidth: 1,
      padding:2,
      margin:5,
      width:50,
      height:30,
      backgroundColor:'#FFF',
      justifyContent:'center',
      alignItems:'center',
      fontSize:5,
      textAlign: 'center',
      boxShadow: '5px 5px 5px #888888'
  }

  const rowStyle = {
    position:'absolute',
    flexDirection:'column',
    justifyContent:'space-between',
    right:-70
  }

 render(<App />)

```

### ç»„ä»¶

| åç§° | è¯´æ˜ |
|------|------|
| [Map](/api/components/map) | æ˜¾ç¤ºåœ°å›¾ï¼›ä¸‹é¢çš„å…¶ä»–ç»„ä»¶,å¿…é¡»ä½œä¸º `Map` çš„å­ç»„ä»¶ä½¿ç”¨|
| [Marker](/api/components/marker) | åœ¨åœ°å›¾ä¸Šæ˜¾ç¤ºå•ä¸ªåæ ‡ç‚¹ |
| [Markers](/api/components/markers) | åœ¨åœ°å›¾ä¸Šæ˜¾ç¤ºå¤šä¸ªåæ ‡ç‚¹ |
| [Polygon](/api/components/polygon) | åœ¨åœ°å›¾ä¸Šæ˜¾ç¤ºå¤šè¾¹å½¢ |
| [Polyline](/api/components/polyline) |åœ¨åœ°å›¾ä¸Šæ˜¾ç¤ºæŠ˜çº¿ |
| [Circle](/api/components/circle) | åœ¨åœ°å›¾ä¸Šæ˜¾ç¤ºåœ†å½¢ |
| [Tip](/api/components/tip) | åœ¨åœ°å›¾ä¸Šæ˜¾ç¤ºä¿¡æ¯çª—ä½“ |
| [DetailSwiper](/api/modules/DetailSwiper) | åœ¨åœ°å›¾ä¸Šæ˜¾ç¤ºmarkeræ»‘åŠ¨é€‰æ‹©ç»„ä»¶ |
| [CurrentLoction](/api/modules/CurrentLocation) | åœ¨åœ°å›¾ä¸Šæ˜¾ç¤ºå®šä½å½“å‰ä½ç½®ç»„ä»¶ |

### åŠŸèƒ½
> æ›´å¤šåŠŸèƒ½ç»„ä»¶,è¯·[å‚è€ƒ](https://alibaba.github.io/rax-map/api/components/index)

### è´¡çŒ®æŒ‡å—

> é¦–å…ˆæ„Ÿè°¢ä½ ä½¿ç”¨ Rax-mapï¼ŒRax-map æ˜¯ä¸€ä¸ªåŸºäº Rax å°è£…çš„é«˜å¾·åœ°å›¾ç»„ä»¶åº“;

> Rax-map çš„æˆé•¿ç¦»ä¸å¼€å¤§å®¶çš„æ”¯æŒï¼Œå¸Œæœ›å¤§å®¶é€šè¿‡ Issues æå‡ºå®è´µæ„è§;

### å›¢é˜Ÿ
power by [é˜¿é‡Œæ‹å–å‰ç«¯å›¢é˜Ÿ](http://paiui.dockerlab.alipay.net)

### æ›´æ–°æ—¥å¿—
+ 2018.12.10ï¼ˆç‰ˆæœ¬0.0.9)
  - å»é™¤ rax-map/api/modules/DetailSwiper é‡Œå¯¹ rax-pictrue çš„ä¾èµ–ï¼Œæ”¹ä¸º View æ˜¾ç¤ºå­—ç¬¦ç®­å¤´
  - å¢åŠ å¯¹rax native æ¸²æŸ“çš„æç¤ºï¼Œ
 ğŸš§ ç›®å‰ 'RAX-MAP' ä¸æ”¯æŒ 'Weex native æ¸²æŸ“æ–¹å¼'
 ğŸ”Œ åªæ”¯æŒ 'h5-webViewæ–¹å¼'ï¼Œè¯·è°ƒæ•´ URL å‚æ•°ä¸º 'wh_weex=false' çš„é™çº§æ¨¡å¼ã€‚
 
 + 2018.12.19ï¼ˆç‰ˆæœ¬0.0.11)
   - ä¿®å¤ä¸€ä¸ªswiperç»„ä»¶ä¼šæç¤ºç¼ºå°‘`createElemet`çš„bug,
### é¸£è°¢

> æœ¬æ’ä»¶å‚è€ƒå’Œå€Ÿé‰´åº“å’Œæ’ä»¶ï¼Œæ„Ÿè°¢ä»¥ä¸‹ä¼˜ç§€çš„å¼€æºèµ„æºæä¾›çµæ„Ÿæ¥æº,æ’åˆ—ä¸åˆ†å…ˆåã€‚

> [ã€é«˜å¾·åœ°å›¾ã€‘](https://lbs.amap.com/)[ã€Raxã€‘](http://rax.alibaba-inc.com/)[ã€antã€‘](https://ant.design/index-cn)[ã€PAIUIã€‘](http://paiui.dockerlab.alipay.net/)[ã€vue-amapã€‘](https://github.com/ElemeFE/vue-amap)[ã€react-mapã€‘](https://github.com/ElemeFE/react-amap)[ã€bishengã€‘](https://github.com/benjycui/bisheng)

